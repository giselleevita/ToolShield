\documentclass[12pt,a4paper]{article}

% ── Packages ─────────────────────────────────────────────────────────────────
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[english]{babel}
\usepackage{geometry}
\geometry{margin=2.5cm}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\graphicspath{{figures/}}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{verbatim}
\usepackage{microtype}
\usepackage[numbers]{natbib}

% ── Metadata ─────────────────────────────────────────────────────────────────
\title{ToolShield: Prompt Injection Detection\\for Tool-Using LLM Agents}
\author{Giselle Evita\\[0.5em]
\small TU Darmstadt, Department of Computer Science\\
\small Bachelor Thesis}
\date{2026}

% ── Document ─────────────────────────────────────────────────────────────────
\begin{document}

\maketitle
\newpage
\tableofcontents
\newpage

% ── Chapters ─────────────────────────────────────────────────────────────────
\input{chapters/introduction}
\newpage
\input{chapters/related_work}
\newpage
\input{chapters/methodology}
\newpage
\input{chapters/implementation}
\newpage
\input{chapters/results}
\newpage
\input{chapters/discussion}
\newpage
\input{chapters/threats_to_validity}
\newpage
\input{chapters/conclusion}

% ── Tables and Figures (from experiment artifacts) ───────────────────────────
\newpage
\appendix
\section{Experimental Tables and Figures}
\label{sec:tables_and_figures}

\input{chapters/tables}

% ── Reproducibility Notes ────────────────────────────────────────────────────
\newpage
\section{Reproducibility Notes}
\label{sec:reproducibility_notes}

All experimental results reported in this thesis can be reproduced from the
repository using two commands:

\begin{verbatim}
make compare_truncation_longschema
make verify_longschema_results
\end{verbatim}

The first command executes the full long-schema truncation ablation pipeline
(dataset generation, splitting, training, evaluation, and aggregation). The
second command runs the automated verification script, which checks artifact
completeness, truncation invariant consistency, and ROC-AUC regression bounds.

\paragraph{Artifact index.}
The file \texttt{THESIS\_ARTIFACTS.md} in the repository root serves as the
authoritative index linking each thesis table and figure to the exact data
file from which it was derived.

\paragraph{Supporting artifacts.}
The following files document the experimental environment and execution:

\begin{itemize}
    \item \texttt{run\_manifest.md} --- records the git commit hash, executed
          commands, dataset configuration, and model settings for each
          experiment run.
    \item \texttt{environment\_freeze.txt} --- captures the exact Python
          package versions (torch, transformers, scikit-learn, etc.) used
          during training and evaluation.
    \item \texttt{verification\_output.txt} --- contains the full output of
          the automated verification pipeline, confirming that all artifact
          checks passed.
\end{itemize}

Together with deterministic seeds and controlled split protocols, these
artifacts ensure that reported results are traceable to a specific repository
state and reproducible under equivalent conditions.

% ── Bibliography ─────────────────────────────────────────────────────────────
\newpage
\bibliographystyle{plainnat}
\bibliography{references}

\end{document}
